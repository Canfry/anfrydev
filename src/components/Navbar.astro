---
import Icon from 'astro-icon';
import { getRelativeLocaleUrl } from 'astro:i18n';

const indexEsUrl = getRelativeLocaleUrl('es', '');
const indexFrUrl = getRelativeLocaleUrl('fr', '');

const aboutEsUrl = getRelativeLocaleUrl('es', 'about');
const workEsUrl = getRelativeLocaleUrl('es', 'work');
const contactEsUrl = getRelativeLocaleUrl('es', 'contact');

const aboutFrUrl = getRelativeLocaleUrl('fr', 'about');
const workFrUrl = getRelativeLocaleUrl('fr', 'work');
const contactFrUrl = getRelativeLocaleUrl('fr', 'contact');
---

<div class='flex items-center justify-between'>
  <div class='flex items-center gap-x-8'>
    <a href='/' class='text-[#07b6D5] text-5xl'>AnfryDev</a>
    <div class='dropdown'>
      <div
        tabindex={0}
        role='button'
        class='btn m-1 bg-transparent hover:border hover:border-1 hover:border-[#07b6D5] shadow-md shadow-[#07b6D5] hover:shadow-none'
      >
        {
          Astro.url.pathname.startsWith('/es/')
            ? 'ES'
            : Astro.url.pathname.startsWith('/fr/')
            ? 'FR'
            : 'EN'
        }
      </div>
      <ul
        tabindex={0}
        class='dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52'
      >
        <li>
          <a
            href='/'
            class={`
          ${Astro.url.pathname === '/' ? 'text-[#07b6D5] font-bold' : ''}
        `}>EN</a
          >
        </li>
        <li>
          <a
            href={indexEsUrl}
            class={`
          ${
            Astro.url.pathname.startsWith('/es/')
              ? 'text-[#07b6D5] font-bold'
              : ''
          }
        `}>ES</a
          >
        </li>
        <li>
          <a
            href={indexFrUrl}
            class={`
          ${
            Astro.url.pathname.startsWith('/fr/')
              ? 'text-[#07b6D5] font-bold'
              : ''
          }
        `}>FR</a
          >
        </li>
      </ul>
    </div>
  </div>
  <nav class='max-lg:hidden'>
    <ul class='flex items-center justify-center gap-x-8'>
      <a
        href={Astro.url.pathname.startsWith('/es/')
          ? `${indexEsUrl}`
          : Astro.url.pathname.startsWith('/fr/')
          ? `${indexFrUrl}`
          : '/'}
        class={`text-xl transition ease-out hover:text-[#94849b] duration-300  ${
          Astro.url.pathname === '/' ||
          Astro.url.pathname === '/es/' ||
          Astro.url.pathname === '/fr/'
            ? 'text-[#fdfff7] border-b-2 border-[#07b6D5] hover:text-[#fdfff7]'
            : 'text-gray-400 border-none'
        } `}
      >
        <li>
          {
            Astro.url.pathname.startsWith('/es/')
              ? 'Inicio'
              : Astro.url.pathname.startsWith('/fr/')
              ? 'Accueil'
              : 'Home'
          }
        </li>
      </a>
      <a
        href={Astro.url.pathname.startsWith('/es/')
          ? `${aboutEsUrl}`
          : Astro.url.pathname.startsWith('/fr/')
          ? `${aboutFrUrl}`
          : '/about'}
        class={`text-xl transition ease-out hover:text-[#94849b] duration-300 ${
          Astro.url.pathname === '/about' ||
          Astro.url.pathname === '/es/about/' ||
          Astro.url.pathname === '/fr/about/'
            ? 'text-[#fdfff7] border-b-2 border-[#07b6D5] hover:text-[#fdfff7]'
            : 'text-gray-400 border-none'
        } `}
      >
        <li>
          {
            Astro.url.pathname.startsWith('/es/')
              ? 'Acerca de'
              : Astro.url.pathname.startsWith('/fr/')
              ? 'A propos'
              : 'About'
          }
        </li>
      </a>
      <a
        href={Astro.url.pathname.startsWith('/es/')
          ? `${workEsUrl}`
          : Astro.url.pathname.startsWith('/fr/')
          ? `${workFrUrl}`
          : '/work'}
        class={`text-xl transition ease-out hover:text-[#94849b] duration-300 ${
          Astro.url.pathname === '/work' ||
          Astro.url.pathname === '/es/work/' ||
          Astro.url.pathname === '/fr/work/'
            ? 'text-[#fdfff7] border-b-2 border-[#07b6D5] hover:text-[#fdfff7]'
            : 'text-gray-400 border-none'
        } `}
      >
        <li>
          {
            Astro.url.pathname.startsWith('/es/')
              ? 'Trabajo'
              : Astro.url.pathname.startsWith('/fr/')
              ? 'Travail'
              : 'Work'
          }
        </li>
      </a>
      <a
        href='https://blog.anfrydev.com'
        target='_blank'
        class={`text-xl transition ease-out hover:text-[#94849b] duration-300 ${
          Astro.url.pathname === '/blog'
            ? 'text-[#fdfff7] border-b-2 border-[#07b6D5] hover:text-[#fdfff7]'
            : 'text-gray-400 border-none'
        } `}
      >
        <li>Blog</li>
      </a>
      <a
        href={Astro.url.pathname.startsWith('/es/')
          ? `${contactEsUrl}`
          : Astro.url.pathname.startsWith('/fr/')
          ? `${contactFrUrl}`
          : '/contact'}
        class={`text-xl transition ease-out hover:text-[#94849b] duration-300 ${
          Astro.url.pathname === '/contact' ||
          Astro.url.pathname === '/es/contact/' ||
          Astro.url.pathname === '/fr/contact/'
            ? 'text-[#fdfff7] border-b-2 border-[#07b6D5] hover:text-[#fdfff7]'
            : 'text-gray-400 border-none'
        } `}
      >
        <li>
          {
            Astro.url.pathname.startsWith('/es/')
              ? 'Contacto'
              : Astro.url.pathname.startsWith('/fr/')
              ? 'Contact'
              : 'Contact'
          }
        </li>
      </a>
    </ul>
  </nav>
  <div class='hidden max-lg:block'>
    <div class='dropdown dropdown-end'>
      <label
        tabindex={0}
        class='transition ease-out btn m-1 bg-[#18181b] shadow-sm shadow-[#f2efea]/50 text-[#fdfff7] hover:shadow-md hover:shadow-[#f2efea]/30 duration-300'
        ><Icon
          pack='jam'
          name='menu'
          class='text-[#07b6D5] w-[36px] h-[36px] z-50'
        /></label
      >
      <ul
        tabindex={0}
        class='dropdown-content z-60 menu p-2 shadow-sm shadow-[#07b6D5] bg-[#18181b] rounded-box w-52'
      >
        <li>
          <a
            href={Astro.url.pathname.startsWith('/es/')
              ? `${indexEsUrl}`
              : Astro.url.pathname.startsWith('/fr/')
              ? `${indexFrUrl}`
              : '/'}
            class={`text-lg transition ease-out hover:text-[#94849b] duration-300 ${
              Astro.url.pathname === '/' ||
              Astro.url.pathname === '/es/' ||
              Astro.url.pathname === '/fr/'
                ? 'text-[#07b6D5]'
                : 'text-gray-200 border-none'
            } `}
            >{
              Astro.url.pathname.startsWith('/es/')
                ? 'Inicio'
                : Astro.url.pathname.startsWith('/fr/')
                ? 'Accueil'
                : 'Home'
            }</a
          >
        </li>
        <li>
          <a
            href={Astro.url.pathname.startsWith('/es/')
              ? `${aboutEsUrl}`
              : Astro.url.pathname.startsWith('/fr/')
              ? `${aboutFrUrl}`
              : '/about'}
            class={`text-lg transition ease-out hover:text-[#94849b] duration-300 ${
              Astro.url.pathname === '/about' ||
              Astro.url.pathname === '/es/about/' ||
              Astro.url.pathname === '/fr/about/'
                ? 'text-[#07b6D5]'
                : 'text-gray-200 border-none'
            } `}
            >{
              Astro.url.pathname.startsWith('/es/')
                ? 'Acerca de'
                : Astro.url.pathname.startsWith('/fr/')
                ? 'A propos'
                : 'About'
            }</a
          >
        </li>
        <li>
          <a
            href={Astro.url.pathname.startsWith('/es/')
              ? `${workEsUrl}`
              : Astro.url.pathname.startsWith('/fr/')
              ? `${workFrUrl}`
              : '/work'}
            class={`text-lg transition ease-out hover:text-[#94849b] duration-300 ${
              Astro.url.pathname === '/work' ||
              Astro.url.pathname === '/es/work/' ||
              Astro.url.pathname === '/fr/work/'
                ? 'text-[#07b6D5]'
                : 'text-gray-200 border-none'
            } `}
            >{
              Astro.url.pathname.startsWith('/es/')
                ? 'Trabajo'
                : Astro.url.pathname.startsWith('/fr/')
                ? 'Travail'
                : 'Work'
            }</a
          >
        </li>
        <li>
          <a
            href='https://blog.anfrydev.com'
            target='_blank'
            class={`text-lg transition ease-out hover:text-[#94849b] duration-300 ${
              Astro.url.pathname === '/blog'
                ? 'text-[#07b6D5]'
                : 'text-gray-200 border-none'
            } `}>Blog</a
          >
        </li>
        <li>
          <a
            href={Astro.url.pathname.startsWith('/es/')
              ? `${contactEsUrl}`
              : Astro.url.pathname.startsWith('/fr/')
              ? `${contactFrUrl}`
              : '/contact'}
            class={`text-lg transition ease-out hover:text-[#94849b] duration-300 ${
              Astro.url.pathname === '/contact' ||
              Astro.url.pathname === '/es/contact/' ||
              Astro.url.pathname === '/fr/contact/'
                ? 'text-[#07b6D5]'
                : 'text-gray-200 border-none'
            } `}
            >{
              Astro.url.pathname.startsWith('/es/')
                ? 'Contacto'
                : Astro.url.pathname.startsWith('/fr/')
                ? 'Contact'
                : 'Contact'
            }</a
          >
        </li>
      </ul>
    </div>
  </div>
</div>
