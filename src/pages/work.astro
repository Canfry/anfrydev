---
import { getCollection } from 'astro:content';
import Main from '../components/Main.astro';
import Layout from '../layouts/Layout.astro';
import ProjectsList from '../components/ProjectsList.astro';

const allProjects = await getCollection('projects');
const projects = allProjects.flatMap((project) => {
  return project.data;
});
console.log(projects);
---

<Layout>
  <Main>
    <h1 class='text-4xl text-left mb-4'>My Work</h1>
    <hr class='w-full h-[1px] bg-cyan-500 border-none' />
    <hr />
    <ProjectsList projects={projects} />
  </Main>
</Layout>
